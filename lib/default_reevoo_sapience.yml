---
default:
  log_level: debug
  appenders:
    - datadog:
        url: <%= ENV.fetch("STATSD_URL", "udp://localhost:8125") %>
    - stream:
        io: STDOUT
        formatter: json

test:
  log_level: warn
  appenders:
    - datadog:
        url: <%= ENV.fetch("STATSD_URL", "udp://localhost:8125") %>
    - stream:
        file_name: log/test.log
        formatter: color

development:
  log_level: debug
  appenders:
    - datadog:
        url: <%= ENV.fetch("STATSD_URL", "udp://localhost:8125") %>
    - stream:
        io: STDOUT
        formatter: color
    - stream:
        file_name: log/development.log
        formatter: color

production:
  log_level: info
  appenders:
    - stream:
        io: STDOUT
        formatter: json
    - datadog:
        url: <%= ENV.fetch("STATSD_URL", "udp://localhost:8125") %>
    - sentry:
        dsn: <%= ENV['SENTRY_DSN'] %>

staging:
  log_level: info
  appenders:
    - stream:
        io: STDOUT
        formatter: json
    - datadog:
        url: <%= ENV.fetch("STATSD_URL", "udp://localhost:8125") %>
    - sentry:
        dsn: <%= ENV['SENTRY_DSN'] %>

ci:
  log_level: warn
  appenders:
    - datadog:
        url: <%= ENV.fetch("STATSD_URL", "udp://localhost:8125") %>
    - stream:
        io: STDOUT
        formatter: color
