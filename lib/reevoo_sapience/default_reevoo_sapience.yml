---
defaults: &defaults
  log_level: :info
  appenders:
    - file:
        io: STDOUT
        formatter: <%= ENV.fetch('SAPIENCE_FORMATTER') { 'json' } %>
    - statsd:
        url: <%= ENV.fetch('STATSD_URL') { "udp://localhost:8125" } %>
    - sentry:
        dsn: <%= ENV.fetch('RAVEN_DSN') %>

test:
  log_level: :warn
  appenders:
    - file:
        io: STDOUT
        formatter: <%= ENV.fetch('SAPIENCE_FORMATTER') { 'color' } %>

development:
  log_level: :debug
  appenders:
    - file:
        io: STDOUT
        formatter: <%= ENV.fetch('SAPIENCE_FORMATTER') { 'color' } %>

production:
  <<: *defaults

integration:
  <<: *defaults

staging:
  <<: *defaults

ci:
  <<: *defaults